# UG管理系统开发规则

## 项目基础规则
1. **将项目的开发文档作为首要规则**，严格遵循docs目录下的各类文档指导
2. 项目采用 **UMI 4.4.12** 作为前端框架，**Egg.js** 作为后端框架
3. 使用 **pnpm 8.15.8** 作为包管理器，详见 [PNPM_MIGRATION.md](../PNPM_MIGRATION.md)

## UMI 4.x 开发规则
1. **严格遵循UMI 4.x官方规范**进行前端开发
2. 使用 `.umirc.ts` 作为项目配置文件，不要创建重复的配置文件
3. 路由配置统一在 `.umirc.ts` 的 `routes` 字段中管理
4. 组件开发遵循UMI推荐的文件结构和命名规范
5. 使用 `@umijs/max` 提供的所有增强功能
6. 配置 `npmClient` 为 `pnpm` 以确保依赖安装一致性

## Trae CN 开发环境规则
1. **使用推荐的开发插件**，详见 `.vscode/extensions.json` 文件
2. 保持编辑器设置与项目配置一致，特别是代码格式化、ESLint和TypeScript配置
3. 使用Trae CN提供的智能开发功能提升开发效率
4. 遵循项目的编码标准和文件命名规范

## 依赖管理规则
1. 所有依赖安装必须使用 `pnpm` 命令
2. 共享依赖提升到根目录管理，特定依赖保留在子项目中
3. 定期运行 `pnpm outdated` 和 `pnpm update` 保持依赖更新
4. 遇到依赖问题时，使用项目提供的 `reinstall-deps.bat` 脚本

## 代码质量规则
1. 提交代码前必须通过以下检查：
   - `pnpm test`：运行所有测试
   - `pnpm lint`：代码规范检查
   - `pnpm tsc`：TypeScript类型检查
   - `pnpm format`：代码格式化

## 开发工具使用规则
1. 调试工具统一放在根目录的 `tools` 路径下
2. 调试和设置脚本统一放在根目录的 `scripts` 路径下
3. 使用项目提供的自动化脚本提高开发效率

## 文档管理规则
1. 所有项目文档统一放在根目录的 `docs` 路径下
2. 保持文档更新与代码同步，确保文档的准确性
3. 新增功能或修改现有功能后，及时更新相关文档